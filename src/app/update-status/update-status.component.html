
<div class="m-3 pt-1 pb-1 hidden-md-down">
  <h2 class="text-center">Actualizar estado de servicio</h2>
</div>

<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">Servicio</th>
      <th scope="col">Estado</th>
      <th scope="col">Actualizar</th>
      <ng-container *ngIf="esColaborador">
        <th scope="col">Modificado por</th>
      </ng-container>


    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let element of string | paginate: { itemsPerPage: 10 }">
      <th>{{element.nombre}}</th>
      <td>{{element.estado}}</td>
      <td>

        <button type="button" class="btnIncidente" (click)="openModal2(template2, element.detalleCambio)">Detalle</button>
        <br /><br />

        <button type="button" class="btnDescripcion" (click)="openModal(template,element.id)">Actualizar</button>
      </td>
      <ng-container *ngIf="esColaborador">
        <td>{{element.usuarioModifica.Title}}</td>
      </ng-container>
    </tr>

  </tbody>
</table>
<pagination-controls (pageChange)="$event"></pagination-controls>



<br>

<ng-template #template id="modal">
  <div class="modal-header">
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="text-center">
      <img style="width: 250px;" _ngcontent-c2="" alt="Puntos Colombia" class="modal-logo" src="assets/images/logo.png">
    </div>

    <div _ngcontent-c2="" class="modal-dialog modal-open" style="max-width: 480px">
      <div _ngcontent-c2="" class="col container align-items-center">
        <div _ngcontent-c2="" class="modal-content">

          <div _ngcontent-c2="" class="login-modal__form-wrapper justify-content-center text-center">
            <form [formGroup]="form" _ngcontent-c2="" class="m-0 ng-pristine ng-invalid ng-touched" novalidate="">


              <h3 _ngcontent-c2="">{{textoModal}}</h3>

              <div class="row">
                <div class="col-4">
                  <label class="TituloRango">Estado</label>
                </div>
                  <div class="col-8">

                    

                    <select class="custom-select" formControlName="nuevoEstado">
                      <option value="Correcto">Correcto</option>
                      <option value="Alerta">Alerta</option>
                      <option value="Degradado">Degradado</option>

                    </select>

                  </div>
                </div>
              <br />  
              <div class="row">

                <div class="col-4">
                  <label class="DetalleIncidente">Detalle Incidente</label>
                </div>

                <div class="col-8 ">

                 
                  <textarea class="formControl DetalleIncidente" rows="5" formControlName="detalleIncidente" style="width:100%">
                                       
                                        </textarea>



                </div>

              </div>
              <br />
                <div class="row">
                  <div class="col-3 offset-7">
                    <button type="button" class="btnDescripcion" (click)="ActualizarEstado()">Actualizar</button>
                  </div>
                </div>







</form>


          </div>
        </div>
      </div>
    </div>


  </div>
</ng-template>

<ng-template #template2 id="modal">
  <div class="modal-header">
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="text-center">
      <img style="width: 250px;" _ngcontent-c2="" alt="Puntos Colombia" class="modal-logo" src="assets/images/logo.png">
    </div>

    <div _ngcontent-c2="" class="modal-dialog modal-open" style="max-width: 480px">
      <div _ngcontent-c2="" class="col container align-items-center">
        <div _ngcontent-c2="" class="modal-content">

          <div _ngcontent-c2="" class="login-modal__form-wrapper justify-content-center text-center">
            <form _ngcontent-c2="" class="m-0 ng-pristine ng-invalid ng-touched" novalidate="">
              <label _ngcontent-c2="">{{textoModal}}</label>



            </form>


          </div>
        </div>
      </div>
    </div>


  </div>
</ng-template>
